<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Announcements - Parent Dashboard</title>
  <style>
    /* Base styles matching parent dashboard */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: #f5f7fa;
      color: #333;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Header styles */
    header {
      background: linear-gradient(to right, #2563eb, #1e3a8a);
      color: white;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: relative;
      z-index: 100;
      height: 70px;
    }

    header h1 {
      font-size: 1.8rem;
      font-weight: 700;
    }

    /* Hamburger Menu */
    .hamburger {
      background: none;
      border: none;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      width: 30px;
      height: 21px;
      padding: 0;
      z-index: 1001;
      position: relative;
    }

    .hamburger span {
      display: block;
      height: 3px;
      width: 100%;
      background-color: white;
      border-radius: 3px;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      transform-origin: center;
    }

    .hamburger.active span:nth-child(1) {
      transform: translateY(9px) rotate(45deg);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
      transform: translateX(-20px);
    }

    .hamburger.active span:nth-child(3) {
      transform: translateY(-9px) rotate(-45deg);
    }

    /* Side Navigation */
    .side-nav {
      position: fixed;
      top: 0;
      right: -300px;
      width: 300px;
      height: 100vh;
      background: linear-gradient(to bottom, #2563eb, #1e3a8a);
      box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
      transition: right 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      z-index: 1000;
      display: flex;
      flex-direction: column;
    }

    .side-nav.active {
      right: 0;
    }

    .side-nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      flex: 1;
      overflow-y: auto;
      max-height: 100vh;
    }

    .side-nav ul::-webkit-scrollbar {
      width: 5px;
    }

    .side-nav ul::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.1);
    }

    .side-nav ul::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
    }

    .side-nav ul li {
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      opacity: 0;
      transform: translateX(20px);
      animation: slideInRight 0.5s forwards;
    }

    .side-nav.active ul li {
      opacity: 1;
      transform: translateX(0);
    }

    .side-nav ul li:nth-child(1) { animation-delay: 0.1s; }
    .side-nav ul li:nth-child(2) { animation-delay: 0.15s; }
    .side-nav ul li:nth-child(3) { animation-delay: 0.2s; }
    .side-nav ul li:nth-child(4) { animation-delay: 0.25s; }
    .side-nav ul li:nth-child(5) { animation-delay: 0.3s; }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .side-nav ul li:first-child {
      border-top: none;
      margin-top: 70px;
    }

    .side-nav ul li a {
      display: block;
      color: white;
      text-decoration: none;
      padding: 15px 30px;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      background: transparent;
      margin: 0;
    }

    .side-nav ul li a:hover {
      background-color: rgba(255, 255, 255, 0.1);
      padding-left: 40px;
      transform: translateX(5px);
    }

    .nav-icon {
      font-size: 1.2rem;
      width: 20px;
      text-align: center;
    }

    .nav-active {
      background-color: rgba(255, 255, 255, 0.2);
      border-left: 4px solid white;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* Main Content */
    .main-content {
      padding: 30px 20px;
      max-width: 1200px;
      margin: auto;
      animation: fadeInUp 0.6s ease;
    }

    /* Page Header */
    .page-header {
      margin-bottom: 40px;
      text-align: center;
    }

    .page-header h2 {
      color: #1e3a8a;
      font-size: 2.2rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .page-header p {
      color: #64748b;
      font-size: 1.2rem;
      max-width: 600px;
      margin: 0 auto;
    }

    /* Announcements Grid */
    .announcements-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 25px;
      margin-bottom: 40px;
    }

    /* Announcement Card */
    .announcement-card {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.08);
      transition: all 0.3s ease;
      animation: fadeInUp 0.5s ease;
      animation-fill-mode: both;
    }

    .announcement-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    }

    .announcement-card:nth-child(1) { animation-delay: 0.1s; }
    .announcement-card:nth-child(2) { animation-delay: 0.2s; }
    .announcement-card:nth-child(3) { animation-delay: 0.3s; }
    .announcement-card:nth-child(4) { animation-delay: 0.4s; }

    .announcement-header {
      background: linear-gradient(to right, #2563eb, #1e3a8a);
      color: white;
      padding: 25px;
      position: relative;
      min-height: 160px; /* Increased height to prevent overlap */
      display: flex;
      flex-direction: column;
    }

    .announcement-category-container {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
      min-height: 24px; /* Fixed height for category area */
    }

    .announcement-category {
      background: rgba(255, 255, 255, 0.2);
      padding: 6px 15px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .announcement-date {
      font-size: 0.9rem;
      opacity: 0.9;
      display: flex;
      align-items: center;
      gap: 5px;
      background: rgba(255, 255, 255, 0.15);
      padding: 5px 12px;
      border-radius: 15px;
    }

    .announcement-title {
      font-size: 1.4rem;
      font-weight: 700;
      line-height: 1.4;
      margin-top: auto; /* Push to bottom to prevent overlap */
      padding-top: 10px;
      flex-grow: 1;
      overflow-wrap: break-word;
      word-wrap: break-word;
    }

    .announcement-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.9rem;
      opacity: 0.9;
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .announcement-sender {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .announcement-priority {
      font-weight: 600;
      font-size: 0.85rem;
      padding: 4px 12px;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.15);
    }

    .announcement-body {
      padding: 25px;
    }

    .announcement-content {
      color: #475569;
      line-height: 1.7;
      margin-bottom: 25px;
    }

    .announcement-content p {
      margin-bottom: 15px;
    }

    .announcement-content p:last-child {
      margin-bottom: 0;
    }

    .announcement-attachments {
      border-top: 1px solid #e2e8f0;
      padding-top: 20px;
      margin-top: 20px;
    }

    .attachments-title {
      font-weight: 600;
      color: #1e3a8a;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .attachment-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .attachment-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: #f8fafc;
      border-radius: 8px;
      transition: all 0.2s ease;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
    }

    .attachment-item:hover {
      background: #e2e8f0;
      transform: translateX(5px);
    }

    .attachment-icon {
      font-size: 1.3rem;
      color: #2563eb;
      flex-shrink: 0;
    }

    .attachment-name {
      flex: 1;
      font-weight: 500;
      color: #1e293b;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .attachment-size {
      color: #64748b;
      font-size: 0.85rem;
      flex-shrink: 0;
    }

    /* Priority Badges */
    .priority-high {
      background: linear-gradient(to right, #ef4444, #dc2626);
    }

    .priority-high .announcement-priority {
      background: rgba(255, 255, 255, 0.25);
      color: #ffebee;
    }

    .priority-medium {
      background: linear-gradient(to right, #f59e0b, #d97706);
    }

    .priority-medium .announcement-priority {
      background: rgba(255, 255, 255, 0.25);
      color: #fff7ed;
    }

    .priority-low {
      background: linear-gradient(to right, #10b981, #059669);
    }

    .priority-low .announcement-priority {
      background: rgba(255, 255, 255, 0.25);
      color: #ecfdf5;
    }

    /* No Results */
    .no-results {
      grid-column: 1 / -1;
      text-align: center;
      padding: 50px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

    .no-results-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      color: #cbd5e1;
    }

    .no-results h3 {
      color: #64748b;
      margin-bottom: 10px;
    }

    .no-results p {
      color: #94a3b8;
    }

    /* Load More Button */
    .load-more {
      text-align: center;
      margin-top: 40px;
    }

    /* Buttons */
    .btn {
      background: #2563eb;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      display: inline-block;
      text-decoration: none;
      text-align: center;
      font-size: 1rem;
    }

    .btn:hover {
      background: #1e3a8a;
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.15);
    }

    .btn-outline {
      background: transparent;
      border: 2px solid #2563eb;
      color: #2563eb;
    }

    .btn-outline:hover {
      background: #2563eb;
      color: white;
    }

    /* Footer */
    footer {
      background: #1e3a8a;
      color: white;
      text-align: center;
      padding: 30px;
      margin-top: 60px;
      animation: fadeInUp 0.6s ease;
      border-radius: 15px 15px 0 0;
    }

    footer p {
      font-size: 1rem;
    }

    /* Animation Keyframes */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* Responsive styles */
    @media (max-width: 992px) {
      .announcements-grid {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      }
    }

    @media (max-width: 768px) {
      header {
        padding: 15px 20px;
      }

      .announcements-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .announcement-header {
        padding: 20px;
        min-height: 150px;
      }

      .announcement-title {
        font-size: 1.3rem;
      }

      .announcement-body {
        padding: 20px;
      }

      .side-nav {
        width: 280px;
      }

      .announcement-category-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }

      .announcement-date {
        align-self: flex-start;
      }

      .announcement-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }

      .announcement-priority {
        align-self: flex-start;
      }

      .page-header h2 {
        font-size: 1.8rem;
      }
      
      .page-header p {
        font-size: 1.1rem;
      }
    }

    @media (max-width: 480px) {
      .main-content {
        padding: 20px 15px;
      }

      .page-header h2 {
        font-size: 1.6rem;
        flex-direction: column;
        gap: 10px;
      }

      .announcement-card {
        border-radius: 10px;
      }

      .announcement-header {
        min-height: 140px;
      }

      .announcement-title {
        font-size: 1.2rem;
      }

      footer {
        padding: 25px 20px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Soham - Academic Announcements</h1>
    <button class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <!-- Side Navigation -->
  <div class="side-nav" id="sideNav">
    <ul>
      <li><a href="parent-dashboard.html"><span class="nav-icon">üìä</span>Dashboard</a></li>
      <li><a href="parent-performance.html"><span class="nav-icon">üìà</span>Performance</a></li>
      <li><a href="parent-attendance.html"><span class="nav-icon">üìÖ</span>Attendance</a></li>
      <li><a href="parent-announcements.html" class="nav-active"><span class="nav-icon">üì¢</span>Announcements</a></li>
      <li><a href="role-selection.html" onclick="logout()"><span class="nav-icon">üö™</span>Logout</a></li>
    </ul>
  </div>

  <!-- Overlay for closing the menu when clicking outside -->
  <div class="overlay" id="overlay"></div>

  <main class="main-content">
    <div class="page-header">
      <h2><span>üì¢</span> Academic Announcements</h2>
      <p>Stay updated with important academic notices and announcements</p>
    </div>

    <!-- Announcements Grid -->
    <div class="announcements-grid" id="announcementsGrid">
      <!-- Announcements will be populated by JavaScript -->
    </div>

    <div class="load-more">
      <button class="btn btn-outline" id="loadMoreBtn">Load More Announcements</button>
    </div>
  </main>

  <footer>
    <p>&copy; 2026 Soham - Entrance Exam Practice. All rights reserved.</p>
    <p style="margin-top: 10px; font-size: 0.9rem;">Made with ‚ù§Ô∏è by Team Soham</p>
  </footer>

  <script>
    // Check if user is logged in and is a parent
    if (localStorage.getItem("isLoggedIn") !== "true" || localStorage.getItem("userRole") !== "parent") {
      window.location.href = "role-selection.html";
    }

    // Logout function
    function logout() {
      event.preventDefault();
      const logoutBtn = event.target;
      const originalText = logoutBtn.innerHTML;
      logoutBtn.innerHTML = '<span class="loading"></span> Logging out...';
      logoutBtn.disabled = true;
      
      setTimeout(() => {
        localStorage.removeItem("isLoggedIn");
        localStorage.removeItem("userRole");
        localStorage.removeItem("currentParent");
        window.location.href = "role-selection.html";
      }, 1000);
    }

    // Hamburger menu functionality
    const hamburger = document.getElementById('hamburger');
    const sideNav = document.getElementById('sideNav');
    const overlay = document.getElementById('overlay');

    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      sideNav.classList.toggle('active');
      overlay.classList.toggle('active');
      document.body.style.overflow = sideNav.classList.contains('active') ? 'hidden' : 'auto';
    });

    overlay.addEventListener('click', () => {
      hamburger.classList.remove('active');
      sideNav.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Close menu when clicking on a link
    const navLinks = document.querySelectorAll('.side-nav a');
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        if (link.getAttribute('href') === 'role-selection.html' && link.onclick) {
          return;
        }
        
        hamburger.classList.remove('active');
        sideNav.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
        
        if (link.getAttribute('href') && !link.getAttribute('href').startsWith('#')) {
          window.location.href = link.getAttribute('href');
        }
      });
    });

    // Close menu on escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && sideNav.classList.contains('active')) {
        hamburger.classList.remove('active');
        sideNav.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
    });

    // Announcements Data
    const announcementsData = [
      {
        id: 1,
        title: "Mid-Term Examination Schedule",
        category: "Exams",
        priority: "high",
        date: "2026-02-15",
        sender: "Ms. Priya Sharma",
        senderRole: "Class Teacher",
        content: "Mid-term examinations for all classes will be held from February 25th to March 10th, 2026. Please ensure your child completes their syllabus revision. The detailed timetable will be shared next week.",
        attachments: [
          { name: "Exam Schedule.pdf", size: "2.1 MB" },
          { name: "Syllabus Breakdown.docx", size: "1.3 MB" }
        ]
      },
      {
        id: 2,
        title: "Science Project Submission Deadline",
        category: "Assignments",
        priority: "high",
        date: "2026-02-12",
        sender: "Dr. Anjali Singh",
        senderRole: "Science Department Head",
        content: "All science project submissions for the annual science fair are due by February 28th, 2026. Projects should be original work with proper documentation. Late submissions will not be accepted.",
        attachments: [
          { name: "Project Guidelines.pdf", size: "1.8 MB" },
          { name: "Submission Form.docx", size: "0.9 MB" }
        ]
      },
      {
        id: 3,
        title: "Mathematics Olympiad Registration",
        category: "Competitions",
        priority: "medium",
        date: "2026-02-10",
        sender: "Mr. Rajesh Kumar",
        senderRole: "Mathematics Coordinator",
        content: "Registration for the National Mathematics Olympiad is now open. Students from classes 9-12 can participate. Last date for registration is February 25th, 2026. Preliminary round will be held on March 15th.",
        attachments: [
          { name: "Olympiad Syllabus.pdf", size: "1.5 MB" },
          { name: "Registration Form.pdf", size: "1.1 MB" }
        ]
      },
      {
        id: 4,
        title: "Library Hours Extension",
        category: "Facilities",
        priority: "low",
        date: "2026-02-08",
        sender: "Ms. Meera Patel",
        senderRole: "Librarian",
        content: "Starting from February 15th, library hours will be extended until 6:00 PM on weekdays to accommodate exam preparation. Students can borrow additional reference books for exam preparation.",
        attachments: [
          { name: "Extended Hours Notice.pdf", size: "0.8 MB" },
          { name: "Book List 2026.pdf", size: "2.3 MB" }
        ]
      },
      {
        id: 5,
        title: "Computer Lab Maintenance",
        category: "Infrastructure",
        priority: "medium",
        date: "2026-02-05",
        sender: "IT Department",
        senderRole: "School Administration",
        content: "Computer Lab 2 will be closed for maintenance from February 12th to 15th, 2026. All computer classes during this period will be rescheduled. Alternative arrangements have been made in Lab 1.",
        attachments: [
          { name: "Maintenance Schedule.pdf", size: "1.2 MB" },
          { name: "Rescheduled Classes.docx", size: "0.7 MB" }
        ]
      },
      {
        id: 6,
        title: "Scholarship Application Deadline",
        category: "Financial",
        priority: "high",
        date: "2026-02-03",
        sender: "Accounts Department",
        senderRole: "School Administration",
        content: "Last date to apply for merit-based scholarships is February 20th, 2026. Students with 90% or above in previous exams are eligible. Required documents must be submitted to the accounts office.",
        attachments: [
          { name: "Scholarship Form.pdf", size: "1.9 MB" },
          { name: "Eligibility Criteria.pdf", size: "1.4 MB" }
        ]
      },
      {
        id: 7,
        title: "Physics Practical Exam Schedule",
        category: "Exams",
        priority: "high",
        date: "2026-02-01",
        sender: "Physics Department",
        senderRole: "Science Faculty",
        content: "Physics practical examinations for classes 11 and 12 will be conducted from February 18th to 22nd, 2026. Students must bring their lab records and necessary instruments. Detailed batch-wise schedule attached.",
        attachments: [
          { name: "Practical Schedule.pdf", size: "2.5 MB" },
          { name: "Required Instruments.pdf", size: "0.9 MB" }
        ]
      },
      {
        id: 8,
        title: "Career Counseling Session",
        category: "Guidance",
        priority: "medium",
        date: "2026-01-28",
        sender: "Career Guidance Cell",
        senderRole: "Counseling Department",
        content: "Career counseling session for class 12 students and parents on February 10th, 2026. Experts from various fields will be available for one-on-one counseling. Registration is mandatory.",
        attachments: [
          { name: "Counseling Schedule.pdf", size: "1.6 MB" },
          { name: "Expert Profiles.pdf", size: "2.8 MB" }
        ]
      }
    ];

    // DOM Elements
    const announcementsGrid = document.getElementById('announcementsGrid');
    const loadMoreBtn = document.getElementById('loadMoreBtn');

    // Initial variables
    let visibleAnnouncements = 4;

    // Format date
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-US', { 
        year: 'numeric', 
        month: 'short', 
        day: 'numeric' 
      });
    }

    // Get priority class
    function getPriorityClass(priority) {
      switch(priority) {
        case 'high': return 'priority-high';
        case 'medium': return 'priority-medium';
        case 'low': return 'priority-low';
        default: return '';
      }
    }

    // Get priority text
    function getPriorityText(priority) {
      switch(priority) {
        case 'high': return 'High Priority';
        case 'medium': return 'Medium Priority';
        case 'low': return 'Low Priority';
        default: return 'Priority';
      }
    }

    // Render announcements
    function renderAnnouncements() {
      announcementsGrid.innerHTML = '';
      
      const announcementsToShow = announcementsData.slice(0, visibleAnnouncements);
      
      if (announcementsToShow.length === 0) {
        announcementsGrid.innerHTML = `
          <div class="no-results">
            <div class="no-results-icon">üì≠</div>
            <h3>No announcements found</h3>
            <p>Check back later for new announcements</p>
          </div>
        `;
        loadMoreBtn.style.display = 'none';
        return;
      }
      
      announcementsToShow.forEach((announcement, index) => {
        const announcementCard = document.createElement('div');
        announcementCard.className = 'announcement-card';
        announcementCard.style.animationDelay = `${0.1 * (index + 1)}s`;
        
        const priorityClass = getPriorityClass(announcement.priority);
        
        announcementCard.innerHTML = `
          <div class="announcement-header ${priorityClass}">
            <div class="announcement-category-container">
              <div class="announcement-category">${announcement.category}</div>
              <div class="announcement-date">
                <span>üìÖ</span> ${formatDate(announcement.date)}
              </div>
            </div>
            <div class="announcement-title">${announcement.title}</div>
            <div class="announcement-meta">
              <div class="announcement-sender">
                <span>üë®‚Äçüè´</span> ${announcement.sender} - ${announcement.senderRole}
              </div>
              <div class="announcement-priority">${getPriorityText(announcement.priority)}</div>
            </div>
          </div>
          <div class="announcement-body">
            <div class="announcement-content">
              <p>${announcement.content}</p>
            </div>
            ${announcement.attachments && announcement.attachments.length > 0 ? `
            <div class="announcement-attachments">
              <div class="attachments-title">
                <span>üìé</span> Attachments
              </div>
              <div class="attachment-list">
                ${announcement.attachments.map(attachment => `
                  <a href="#" class="attachment-item" onclick="downloadAttachment('${attachment.name}')">
                    <span class="attachment-icon">üìÑ</span>
                    <span class="attachment-name">${attachment.name}</span>
                    <span class="attachment-size">${attachment.size}</span>
                  </a>
                `).join('')}
              </div>
            </div>
            ` : ''}
          </div>
        `;
        
        announcementsGrid.appendChild(announcementCard);
      });
      
      // Show/hide load more button
      loadMoreBtn.style.display = visibleAnnouncements >= announcementsData.length ? 'none' : 'block';
    }

    // Load more announcements
    function loadMoreAnnouncements() {
      visibleAnnouncements += 4;
      renderAnnouncements();
      
      // Scroll to show newly loaded announcements
      const lastCard = document.querySelector('.announcement-card:last-child');
      if (lastCard) {
        lastCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
    }

    // Download attachment (simulated)
    function downloadAttachment(filename) {
      event.preventDefault();
      showNotification(`Downloading "${filename}"...`, 'success');
      
      // In a real application, this would trigger an actual download
      setTimeout(() => {
        showNotification(`"${filename}" downloaded successfully!`, 'success');
      }, 1000);
    }

    // Show notification
    function showNotification(message, type = 'info') {
      // Remove existing notification
      const existingNotification = document.querySelector('.notification');
      if (existingNotification) {
        existingNotification.remove();
      }
      
      // Create notification
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.innerHTML = `
        <div class="notification-content">
          <span class="notification-message">${message}</span>
          <button class="notification-close">√ó</button>
        </div>
      `;
      
      // Style notification
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        z-index: 9999;
        animation: slideInRight 0.3s ease, fadeOut 0.3s ease 3s forwards;
        min-width: 300px;
        max-width: 400px;
      `;
      
      notification.querySelector('.notification-content').style.cssText = `
        display: flex;
        justify-content: space-between;
        align-items: center;
      `;
      
      notification.querySelector('.notification-close').style.cssText = `
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0;
        width: 20px;
        height: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
      `;
      
      notification.querySelector('.notification-close').addEventListener('click', () => {
        notification.remove();
      });
      
      document.body.appendChild(notification);
      
      // Auto remove after 3 seconds
      setTimeout(() => {
        if (notification.parentNode) {
          notification.remove();
        }
      }, 3000);
    }

    // Add animation styles
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(100px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      
      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(100px);
        }
      }
      
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(255,255,255,.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    `;
    document.head.appendChild(style);

    // Initialize event listeners
    function initialize() {
      loadMoreBtn.addEventListener('click', loadMoreAnnouncements);
      
      // Initial render
      renderAnnouncements();
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', initialize);
  </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MHT-CET Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e0f2fe;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .quiz-container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 20px 25px;
      position: relative;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-size: 14px;
      color: #1e3a8a;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .question-number {
      font-weight: bold;
      color: #2563eb;
    }
    .question {
      font-size: 16px;
      margin: 20px 0;
    }
    .options input[type="radio"] {
      display: none;
    }
    .options label {
      display: block;
      background: #eff6ff;
      margin: 8px 0;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      border-left: 4px solid transparent;
    }
    .options input[type="radio"]:checked + label {
      background: #dbeafe;
      border-left: 4px solid #2563eb;
      font-weight: 500;
    }
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .btn {
      padding: 10px 20px;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
    }
    .btn:hover {
      background: #1e40af;
    }
    .btn.right {
      margin-left: auto;
    }
    
    .timer {
      display: flex;
      align-items: center;
      gap: 5px;
      background: #eff6ff;
      padding: 5px 10px;
      border-radius: 4px;
      font-weight: 500;
    }
    
    .nav-panel-toggle {
      cursor: pointer;
      font-size: 20px;
      z-index: 10;
      background: #eff6ff;
      padding: 5px 10px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .nav-panel {
      display: none;
      position: absolute;
      top: 50px;
      right: 20px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      padding: 15px;
      z-index: 10;
      width: 250px;
      max-height: 300px;
      overflow-y: auto;
    }
    .nav-panel h3 {
      margin: 0 0 10px 0;
      font-size: 16px;
      color: #2563eb;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
    }
    .question-list {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
    }
    .question-item {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
    }
    .question-item.answered {
      background: #3b82f6;
      color: white;
    }
    .question-item.seen {
      background: #f87171;
      color: white;
    }
    .question-item.not-seen {
      background: #d1d5db;
      color: #6b7280;
    }
    .question-item.current {
      border: 2px solid #2563eb;
      box-sizing: border-box;
    }
    .question-item:hover {
      transform: scale(1.1);
    }
    
    .save-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #3b82f6;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      display: none;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <div class="header">
      <div class="header-left">
        <div>MHT CET · Mechanical Properties of Solids</div>
      </div>
      <div class="header-right">
        <div class="timer">Time: <span id="timer">00:00</span></div>
        <div class="nav-panel-toggle" onclick="toggleNavPanel()">☰</div>
      </div>
    </div>
    
    <div class="nav-panel" id="navPanel">
      <h3>Questions</h3>
      <div class="question-list" id="questionList"></div>
    </div>

    <div id="quiz-content"></div>
    
    <div class="nav-buttons">
      <button class="btn" id="backBtn" onclick="prevQuestion()" style="display:none;">Back</button>
      <button class="btn right" id="nextBtn" onclick="nextQuestion()">Next</button>
      <button class="btn right" id="submitBtn" onclick="submitQuiz()" style="display:none;">Submit</button>
    </div>
  </div>

  <div class="save-notification" id="saveNotification">
    <span>Results saved successfully!</span>
    <button onclick="hideNotification()" style="background: none; border: none; color: white; cursor: pointer; font-size: 16px;">×</button>
  </div>

  <script>
    const questions = [
      {
        number: "Question 1",
        text: "A steel ring of radius 'r' is to be fitted over a wooden disc of radius 'R' (R > r). The force required to expand the ring so that it fits over the disc is [Y = Young's modulus of steel, A = area of cross section of wire]",
        options: [
          "YA(R - r)/r",
          "YA(R + r)/r",
          "YA(R - r)/(2πr)",
          "YA(R - r)/(πr)"
        ],
        correct: "A"
      },
      {
        number: "Question 2",
        text: "A wire of Young's modulus 1.6×10¹² N/m² is stretched by a force so as to produce a strain of 2×10⁻⁴. The energy density of the wire is",
        options: [
          "1.6×10⁴ J/m³",
          "3.2×10⁴ J/m³",
          "6.4×10⁴ J/m³",
          "9.6×10⁴ J/m³"
        ],
        correct: "B"
      },
      {
        number: "Question 3",
        text: "The compressibility of water is 6×10⁻¹⁰ m²/N. If one litre of water is subjected to a pressure of 4×10⁷ N/m², then the decrease in its volume in millilitre will be",
        options: [
          "0.024 ml",
          "0.24 ml",
          "2.4 ml",
          "24 ml"
        ],
        correct: "A"
      },
      {
        number: "Question 4",
        text: "The ratio of length of two wires of same material is 1:2 and the ratio of their radii is 1:√2. If they are stretched by the same force, the ratio of increase in their lengths is",
        options: [
          "1:2",
          "2:1",
          "1:4",
          "4:1"
        ],
        correct: "B"
      },
      {
        number: "Question 5",
        text: "A metal rod has length, cross-sectional area and Young's modulus as 'L', 'A' and 'Y' respectively. If the elongation in the rod produced is 'ℓ' then work done is proportional to",
        options: [
          "ℓ",
          "ℓ²",
          "1/ℓ",
          "1/ℓ²"
        ],
        correct: "B"
      },
      {
        number: "Question 6",
        text: "A force 'F' of same magnitude is applied tangentially on upper and lower face of a cube, in opposite directions. Side of the cube is 'L'. The upper face of the cube shifts parallel to itself by a distance 'x₁'. If another cube of same material but side '2L' is subjected to the above condition, then the displacement of the top layer is",
        options: [
          "x₁/2",
          "x₁",
          "2x₁",
          "4x₁"
        ],
        correct: "C"
      },
      {
        number: "Question 7",
        text: "A thick brass wire of length 'L' and density 'ρ' is suspended from rigid support. Due to its own weight, ℓ′ is the increase in length. Young's modulus 'Y' of brass wire in terms of density is (g = acceleration due to gravity)",
        options: [
          "ρgL²/(2ℓ′)",
          "ρgL²/ℓ′",
          "2ρgL²/ℓ′",
          "ρgL/(2ℓ′)"
        ],
        correct: "A"
      },
      {
        number: "Question 8",
        text: "Two wires of different materials have same length 'L' and same diameter 'd'. The second wire is connected at the end of the first wire and forms one single wire of double the length. This wire is subjected to stretching force 'F' to produce the elongation 'ℓ'. The two wires have",
        options: [
          "same stress, same strain",
          "same stress, different strain",
          "different stress, same strain",
          "different stress, different strain"
        ],
        correct: "B"
      },
      {
        number: "Question 9",
        text: "The density of a metal at normal pressure P is ρ. When it is subjected to an excess pressure, the density becomes ρ′. If K is the bulk modulus of the metal, then the ratio ρ′/ρ is",
        options: [
          "1 + P/K",
          "1 - P/K",
          "1/(1 - P/K)",
          "1/(1 + P/K)"
        ],
        correct: "C"
      },
      {
        number: "Question 10",
        text: "A wire of length 'L' and radius 'r' is loaded with a weight 'Mg'. If 'Y' and 'σ' denote the Young's modulus and Poisson's ratio of the material of the wire respectively, then the decrease in the radius of the wire (Δr) is given by",
        options: [
          "σMgL/(πr²Y)",
          "σMg/(πrY)",
          "σMgL/(2πr²Y)",
          "σMgL/(πrY)"
        ],
        correct: "A"
      },
      {
        number: "Question 11",
        text: "A lift is tied with thick iron ropes having mass 'M'. The maximum acceleration of the lift is 'a' m/s² and maximum safe stress is 's' N/m². The minimum diameter of the rope is (g = acceleration due to gravity)",
        options: [
          "√[2M(g+a)/(πs)]",
          "√[4M(g+a)/(πs)]",
          "√[M(g+a)/(πs)]",
          "√[8M(g+a)/(πs)]"
        ],
        correct: "B"
      },
      {
        number: "Question 12",
        text: "A transverse wave is travelling with velocity 'V' through a metal wire of length 'L' and density 'ρ'. The tensile stress in the wire is",
        options: [
          "ρV²",
          "ρV²/2",
          "2ρV²",
          "ρV²/4"
        ],
        correct: "A"
      },
      {
        number: "Question 13",
        text: "A rubber ball is taken in a deep sea so that its volume is decreased by x%. The bulk modulus of rubber is 'K' and density of sea water is 'ρ'. The depth to which a rubber ball is taken is proportional to (g = acceleration due to gravity)",
        options: [
          "Kx/(ρg)",
          "ρgx/K",
          "K/(ρgx)",
          "ρg/(Kx)"
        ],
        correct: "A"
      },
      {
        number: "Question 14",
        text: "A metal sphere of radius 1 m is charged with 10⁻² C in air. Its bulk modulus is 10¹¹/(4π²). The volume strain in the sphere is (ε₀ = permittivity of free space)",
        options: [
          "10⁻¹⁰/(ε₀)",
          "10⁻¹²/(ε₀)",
          "10⁻¹⁴/(ε₀)",
          "10⁻¹⁶/(ε₀)"
        ],
        correct: "B"
      },
      {
        number: "Question 15",
        text: "Two wires of same length and material are stretched by same force. If their masses are in the ratio 3 : 4, then the ratio of their elongations is",
        options: [
          "9:16",
          "16:9",
          "3:4",
          "4:3"
        ],
        correct: "B"
      },
      {
        number: "Question 16",
        text: "The density and bulk modulus of a metal bar is 'ρ' and 'K' respectively. When pressure 'P' is applied from all sides to that metal bar, the increase in its density is",
        options: [
          "ρP/K",
          "ρP/(2K)",
          "2ρP/K",
          "ρP/(3K)"
        ],
        correct: "A"
      },
      {
        number: "Question 17",
        text: "A force of 10 N is required to break a wire of radius 1 mm. The force required to break the wire of same material, but radius 3 mm will be",
        options: [
          "30 N",
          "90 N",
          "60 N",
          "120 N"
        ],
        correct: "B"
      },
      {
        number: "Question 18",
        text: "One end of thick horizontal copper wire of length '2L' and radius '2R' is welded to an end of another thin horizontal copper wire of length 'L' and radius 'R'. When they are stretched by applying same force at two ends, the ratio of the elongation in the thick wire to that in thin wire is",
        options: [
          "1:2",
          "2:1",
          "1:4",
          "4:1"
        ],
        correct: "C"
      },
      {
        number: "Question 19",
        text: "An elastic material with Young's modulus 'Y' is subjected to a tensile stress 'S'. The elastic energy stored per unit volume of the material will be",
        options: [
          "S²/(2Y)",
          "S/Y",
          "Y/(2S²)",
          "S²/Y"
        ],
        correct: "A"
      },
      {
        number: "Question 20",
        text: "A constant force is applied to a metal wire of length 'L'. Volume of the wire is constant. The extension produced is proportional to",
        options: [
          "L",
          "1/L",
          "L²",
          "1/L²"
        ],
        correct: "D"
      },
      {
        number: "Question 21",
        text: "Two identical wires of substances 'P' and 'Q' are subjected to equal stretching force along the length. If the elongation of 'Q' is more than that of 'P', then",
        options: [
          "Young's modulus of P is greater than Q",
          "Young's modulus of Q is greater than P",
          "P is more ductile than Q",
          "Q is more brittle than P"
        ],
        correct: "A"
      },
      {
        number: "Question 22",
        text: "Work done in stretching a wire through 1mm is 2J. What amount of work will be done for elongating another wire of same material, with half the length and double the radius of cross section, by 1mm?",
        options: [
          "4 J",
          "8 J",
          "2 J",
          "1 J"
        ],
        correct: "B"
      }
    ];

    let current = 0;
    const userAnswers = {};
    const seenQuestions = new Set();
    const startTime = new Date();
    let navPanelVisible = false;

    function renderQuestion(index) {
      const q = questions[index];
      const container = document.getElementById("quiz-content");
      container.innerHTML = `
        <div class="question-number">${q.number}</div>
        <div class="question">${q.text}</div>
        <div class="options">
          ${q.options.map((opt, i) => {
            const id = `q${index}_${String.fromCharCode(65 + i)}`;
            const checked = userAnswers[index] === String.fromCharCode(65 + i) ? "checked" : "";
            return `
              <input type="radio" id="${id}" name="mcq${index}" value="${String.fromCharCode(65 + i)}" ${checked}>
              <label for="${id}">${String.fromCharCode(65 + i)}) ${opt}</label>
            `;
          }).join("")}
        </div>
      `;

      seenQuestions.add(index);
      
      document.getElementById("backBtn").style.display = index === 0 ? "none" : "inline-block";
      document.getElementById("nextBtn").style.display = index === questions.length - 1 ? "none" : "inline-block";
      document.getElementById("submitBtn").style.display = index === questions.length - 1 ? "inline-block" : "none";
      
      updateNavPanel();
    }

    function updateNavPanel() {
      const questionList = document.getElementById("questionList");
      questionList.innerHTML = '';
      
      questions.forEach((q, index) => {
        const questionItem = document.createElement("div");
        questionItem.className = "question-item";
        questionItem.textContent = index + 1;
        
        if (userAnswers[index]) {
          questionItem.classList.add("answered");
        } else if (seenQuestions.has(index)) {
          questionItem.classList.add("seen");
        } else {
          questionItem.classList.add("not-seen");
        }
        
        if (index === current) {
          questionItem.classList.add("current");
        }
        
        questionItem.onclick = () => {
          saveAnswer();
          current = index;
          renderQuestion(current);
          toggleNavPanel();
        };
        
        questionList.appendChild(questionItem);
      });
    }

    function toggleNavPanel() {
      const navPanel = document.getElementById("navPanel");
      navPanelVisible = !navPanelVisible;
      navPanel.style.display = navPanelVisible ? "block" : "none";
    }

    function nextQuestion() {
      saveAnswer();
      if (current < questions.length - 1) {
        current++;
        renderQuestion(current);
      }
    }

    function prevQuestion() {
      saveAnswer();
      if (current > 0) {
        current--;
        renderQuestion(current);
      }
    }

    function saveAnswer() {
      const selected = document.querySelector(`input[name="mcq${current}"]:checked`);
      if (selected) {
        userAnswers[current] = selected.value;
      }
    }

    function submitQuiz() {
      saveAnswer();
      
      const now = new Date();
      const testName = `MHT-CET Solids Test ${now.toLocaleDateString()} ${now.toLocaleTimeString()}`;
      
      const endTime = new Date();
      const timeTakenMs = endTime - startTime;
      const timeTakenMin = Math.floor(timeTakenMs / 60000);
      const timeTakenSec = Math.floor((timeTakenMs % 60000) / 1000);

      let correct = 0;
      const results = [];

      questions.forEach((q, i) => {
        const userAns = userAnswers[i] || "Not Answered";
        const isCorrect = userAns === q.correct;
        if (isCorrect) correct++;
        results.push({
          number: q.number,
          userAns,
          correctAns: q.correct,
          isCorrect
        });
      });

      const resultData = {
        testName: testName,
        total: questions.length,
        correct: correct,
        accuracy: (correct / questions.length * 100).toFixed(2),
        time: `${timeTakenMin} min ${timeTakenSec} sec`,
        timestamp: now.toISOString(),
        details: results
      };

      try {
        let scores = JSON.parse(localStorage.getItem("quizScores")) || [];
        scores.push(resultData);
        localStorage.setItem("quizScores", JSON.stringify(scores));
        localStorage.setItem("quizResults", JSON.stringify(resultData));
        
        showNotification();
        
        setTimeout(() => {
          window.location.href = "MCCW-PRC10.html";
        }, 1500);
      } catch (e) {
        console.error("Error saving results:", e);
        alert("Error saving results. Please try again.");
      }
    }

    function showNotification() {
      const notification = document.getElementById("saveNotification");
      notification.style.display = "flex";
    }

    function hideNotification() {
      const notification = document.getElementById("saveNotification");
      notification.style.display = "none";
    }

    renderQuestion(current);

    let minutes = 0, seconds = 0;
    const timerEl = document.getElementById("timer");
    setInterval(() => {
      seconds++;
      if (seconds === 60) {
        seconds = 0;
        minutes++;
      }
      timerEl.textContent = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
    }, 1000);
  </script>
</body>
</html>
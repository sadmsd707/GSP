<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MHT-CET Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #e0f2fe;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .quiz-container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 20px 25px;
      position: relative;
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      font-size: 14px;
      color: #1e3a8a;
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .question-number {
      font-weight: bold;
      color: #2563eb;
    }
    .question {
      font-size: 16px;
      margin: 20px 0;
    }
    .options input[type="radio"] {
      display: none;
    }
    .options label {
      display: block;
      background: #eff6ff;
      margin: 8px 0;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      border-left: 4px solid transparent;
    }
    .options input[type="radio"]:checked + label {
      background: #dbeafe;
      border-left: 4px solid #2563eb;
      font-weight: 500;
    }
    .nav-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    .btn {
      padding: 10px 20px;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 500;
    }
    .btn:hover {
      background: #1e40af;
    }
    .btn.right {
      margin-left: auto;
    }
    
    /* Timer Styling */
    .timer {
      display: flex;
      align-items: center;
      gap: 5px;
      background: #eff6ff;
      padding: 5px 10px;
      border-radius: 4px;
      font-weight: 500;
    }
    
    /* Question Navigation Panel */
    .nav-panel-toggle {
      cursor: pointer;
      font-size: 20px;
      z-index: 10;
      background: #eff6ff;
      padding: 5px 10px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .nav-panel {
      display: none;
      position: absolute;
      top: 50px;
      right: 20px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      padding: 15px;
      z-index: 10;
      width: 250px;
      max-height: 300px;
      overflow-y: auto;
    }
    .nav-panel h3 {
      margin: 0 0 10px 0;
      font-size: 16px;
      color: #2563eb;
      border-bottom: 1px solid #eee;
      padding-bottom: 5px;
    }
    .question-list {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
    }
    .question-item {
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
    }
    .question-item.answered {
      background: #3b82f6;
      color: white;
    }
    .question-item.seen {
      background: #f87171;
      color: white;
    }
    .question-item.not-seen {
      background: #d1d5db;
      color: #6b7280;
    }
    .question-item.current {
      border: 2px solid #2563eb;
      box-sizing: border-box;
    }
    .question-item:hover {
      transform: scale(1.1);
    }
    
    /* Save notification */
    .save-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #3b82f6;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      z-index: 1000;
      display: none;
      align-items: center;
      gap: 10px;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <div class="header">
      <div class="header-left">
        <div>MHT CET 2025 · Wave Optics</div>
      </div>
      <div class="header-right">
        <div class="timer">Time: <span id="timer">00:00</span></div>
        <div class="nav-panel-toggle" onclick="toggleNavPanel()">☰</div>
      </div>
    </div>
    
    <div class="nav-panel" id="navPanel">
      <h3>Questions</h3>
      <div class="question-list" id="questionList"></div>
    </div>

    <div id="quiz-content"></div>
    
    <div class="nav-buttons">
      <button class="btn" id="backBtn" onclick="prevQuestion()" style="display:none;">Back</button>
      <button class="btn right" id="nextBtn" onclick="nextQuestion()">Next</button>
      <button class="btn right" id="submitBtn" onclick="submitQuiz()" style="display:none;">Submit</button>
    </div>
  </div>

  <!-- Save notification -->
  <div class="save-notification" id="saveNotification">
    <span>Results saved successfully!</span>
    <button onclick="hideNotification()" style="background: none; border: none; color: white; cursor: pointer; font-size: 16px;">×</button>
  </div>

  <script>
    const questions = [
      {
        number: "Question 01",
        text: "A beam of light of intensity I₀ falls on a system of three polaroids which are arranged in succession such that the pass (transmission) axis is turned through 60° with respect to preceding one. The fraction of the incident light intensity that passes through the system is (cos 60° = 1/2)",
        options: ["1/8", "1/16", "1/32", "1/64"],
        correct: "B"
      },
      {
        number: "Question 02",
        text: "In Young's double slit experiment, the intensity on screen at a point, where path difference is λ/4 is K/4. The intensity at a point when path difference is 'λ' will be [cos π/2 = 0, cos 2π = 1]",
        options: ["K", "K/2", "3K/4", "K/4"],
        correct: "A"
      },
      {
        number: "Question 03",
        text: "A ray of light is incident at polarising angle 'θ' on air-glass interface, if 'λₐ' and 'λᵍ' are the wavelengths of light in air and glass respectively, then",
        options: ["λₐ = λᵍ", "λₐ > λᵍ", "λₐ < λᵍ", "λₐ = 2λᵍ"],
        correct: "B"
      },
      {
        number: "Question 04",
        text: "In Young's double slit experiment, the separation between the slits is halved and the distance between the slits and the screen is doubled. The fringe width",
        options: ["remains unchanged", "increases four times", "becomes double", "becomes half"],
        correct: "B"
      },
      {
        number: "Question 05",
        text: "In a biprism experiment, the distance of the second dark fringe from the central fringe is 3 mm. The distance of the sixth bright fringe from the central fringe is",
        options: ["12 mm", "15 mm", "18 mm", "21 mm"],
        correct: "C"
      },
      {
        number: "Question 06",
        text: "Graph shows the variation of fringe width (X) versus distance of the screen from the plane of the slits (D) in Young's double slit experiment. (keeping other parameters same, d = distance between the slits). The wavelength of light used can be calculated as",
        options: ["λ = slope × d", "λ = slope/d", "λ = d/slope", "λ = slope × D"],
        correct: "B"
      },
      {
        number: "Question 07",
        text: "In Young's double slit experiment, in an interference pattern second minimum is observed exactly in front of one slit. The distance between the two coherent sources is 'd' and the distance between source and screen is 'D'. The wavelength of light source used is",
        options: ["d²/2D", "d²/3D", "d²/4D", "d²/5D"],
        correct: "B"
      },
      {
        number: "Question 08",
        text: "The ratio of the distance of nᵗʰ bright band and mᵗʰ dark band from the central bright band in an interference pattern is",
        options: ["n : m", "n : (m-1/2)", "(n-1/2) : m", "n : (m+1/2)"],
        correct: "B"
      },
      {
        number: "Question 09",
        text: "A single slit diffraction pattern is formed with white light. For what wavelength of light the 4th secondary maximum in diffraction pattern coincides with the 3rd secondary maximum in the pattern of light of wavelength 'λ'?",
        options: ["(3/4)λ", "(4/3)λ", "(7/9)λ", "(9/7)λ"],
        correct: "D"
      },
      {
        number: "Question 10",
        text: "In Young's double slit experiment, the distance between the slits is 2 mm and the slits are 1 m away from the screen. Two interference patterns can be obtained on the screen due to light of wavelength 'λ₁' and 'λ₂' respectively. The separation on the screen between the 3rd order bright fringes on the two interference patterns is (λ₂ = 1.5λ₁)",
        options: ["0.5 mm", "0.75 mm", "1.0 mm", "1.5 mm"],
        correct: "B"
      },
      {
        number: "Question 11",
        text: "In Young's double slit experiment, at two points P and Q on screen, waves from slits s₁ and s₂ have a path difference of 0 and λ/4 respectively. The ratio of intensities at point P to that at Q will be (cos 0° = 1, cos 45° = 1/√2)",
        options: ["2:1", "√2:1", "4:1", "1:2"],
        correct: "A"
      },
      {
        number: "Question 12",
        text: "In a biprism experiment a steady interference pattern is observed on the screen using a light of wavelength 5000Å. Without disturbing the setup of the experiment, the source of light is replaced by a source of wavelength 6400Å. The fringe width will",
        options: ["increase", "decrease", "remain same", "become zero"],
        correct: "A"
      },
      {
        number: "Question 13",
        text: "In a single slit diffraction experiment, slit of width 'a' is illuminated by light of wavelength 'λ' and the width of the central maxima in diffraction pattern is measured as 'y'. When half of the slit is covered and illuminated by light of wavelength (1.5)λ, the width of the central maximum in diffraction pattern becomes",
        options: ["y/3", "2y/3", "y", "3y/2"],
        correct: "C"
      },
      {
        number: "Question 14",
        text: "If the two sources of light emit waves of different amplitudes and interfere then",
        options: [
          "brightness of fringes is less",
          "fringe width is less",
          "fringes disappear after short time",
          "there is some intensity of light in the region of destructive interference"
        ],
        correct: "D"
      },
      {
        number: "Question 15",
        text: "In Fraunhofer diffraction pattern, slit width is 0.3 mm and screen is at 1.5 m away from the lens. If wavelength of light used is 4500Å, then the distance between the first minimum on either side of the central maximum is [θ is small and measured in radian.]",
        options: ["2.25 mm", "4.5 mm", "6.75 mm", "9.0 mm"],
        correct: "B"
      },
      {
        number: "Question 16",
        text: "A single slit diffraction pattern is formed with light of wavelength 6384Å. The second secondary maximum for this wavelength coincides with the third secondary maximum in the pattern for light of wavelength 'λ₀'. The value of 'λ₀' is",
        options: ["4256 Å", "5320 Å", "6384 Å", "7448 Å"],
        correct: "A"
      },
      {
        number: "Question 17",
        text: "In Young's double slit experiment, the intensity of light at a point on the screen where the path difference is λ is 'I'. The intensity at a point where the path difference is λ/6 is [cos π/6 = √3/2]",
        options: ["I/4", "3I/4", "I/2", "I"],
        correct: "B"
      },
      {
        number: "Question 18",
        text: "In Young's double slit experiment the wavelength of light used is 6000Å, the screen is 40 cm from the slits and the fringe width is 0.012 cm, the distance between two slits is",
        options: ["0.2 mm", "0.3 mm", "0.4 mm", "0.5 mm"],
        correct: "A"
      },
      {
        number: "Question 19",
        text: "Let the speed of light and the polarising angle for a given medium be 'V' and 'iₚ' respectively. The relation between them is (C = speed of light in vacuum)",
        options: ["V = C sin iₚ", "V = C cos iₚ", "V = C tan iₚ", "V = C cot iₚ"],
        correct: "A"
      },
      {
        number: "Question 20",
        text: "Two polaroids are oriented with their planes perpendicular to incident light and transmission axis making an angle 30° with each other. What fraction of incident unpolarised light is transmitted? (cos 30° = √3/2)",
        options: ["3/8", "3/16", "3/32", "3/64"],
        correct: "A"
      },
      {
        number: "Question 21",
        text: "In a single slit diffraction pattern, the distance between the plane of the slit and screen is 1.3 m. The width of the slit is 0.65 mm and the second maximum is formed at the distance of 2.6 mm from the centre of the screen. The wavelength of light used is",
        options: ["4000 Å", "5000 Å", "6000 Å", "7000 Å"],
        correct: "B"
      },
      {
        number: "Question 22",
        text: "A ray of light from a monochromatic point source of light is incident at a point on the screen. If a thin mica film of thickness 't' and refractive index 'n' is introduced in its path, then the optical path",
        options: [
          "is increased by (n + 1)t",
          "is decreased by (n - 1)t",
          "is increased by (n - 1)t",
          "is not affected"
        ],
        correct: "C"
      },
      {
        number: "Question 23",
        text: "Two polaroids are placed in the path of unpolarised beam of intensity 'I₀' such that no light is emitted from the second polaroid. If a third polaroid whose polarisation axis makes an angle 'θ' with the polarisation axis of first polaroid is placed between these polaroids then the intensity of light emerging from the last polaroid will be",
        options: ["I₀ cos⁴θ", "I₀/2 cos⁴θ", "I₀/4 cos⁴θ", "I₀/8 cos⁴θ"],
        correct: "C"
      },
      {
        number: "Question 24",
        text: "In a Young's double slit experiment wavelength of light used is 6000Å. The first order maxima and tenth order maxima fall at 14.50 mm and 16.75 mm from the particular reference point in the interference pattern respectively. If the wavelength is changed to 5500Å then the position of zero order and tenth order maxima are respectively [The other arrangements remaining same]",
        options: ["14.50 mm, 16.25 mm", "14.50 mm, 16.50 mm", "14.75 mm, 16.25 mm", "14.75 mm, 16.50 mm"],
        correct: "A"
      },
      {
        number: "Question 25",
        text: "Assuming human pupil to have radius of 0.25 cm and comfortable viewing distance of 25 cm, the minimum separation between the two objects that human eye can resolve at 500 nm wavelength is nearly",
        options: ["1 μm", "10 μm", "30 μm", "100 μm"],
        correct: "C"
      },
      {
        number: "Question 26",
        text: "In a single slit diffraction pattern, identify the incorrect statement from the following.",
        options: [
          "The fringes have unequal intensity",
          "The fringes have unequal width",
          "The fringes have unequal width and unequal intensity",
          "The fringes have equal width and equal intensity"
        ],
        correct: "D"
      }
    ];

    let current = 0;
    const userAnswers = {};
    const seenQuestions = new Set();
    const startTime = new Date();
    let navPanelVisible = false;

    function renderQuestion(index) {
      const q = questions[index];
      const container = document.getElementById("quiz-content");
      container.innerHTML = `
        <div class="question-number">${q.number}</div>
        <div class="question">${q.text}</div>
        <div class="options">
          ${q.options.map((opt, i) => {
            const id = `q${index}_${String.fromCharCode(65 + i)}`;
            const checked = userAnswers[index] === String.fromCharCode(65 + i) ? "checked" : "";
            return `
              <input type="radio" id="${id}" name="mcq${index}" value="${String.fromCharCode(65 + i)}" ${checked}>
              <label for="${id}">${String.fromCharCode(65 + i)}) ${opt}</label>
            `;
          }).join("")}
        </div>
      `;

      seenQuestions.add(index);
      
      document.getElementById("backBtn").style.display = index === 0 ? "none" : "inline-block";
      document.getElementById("nextBtn").style.display = index === questions.length - 1 ? "none" : "inline-block";
      document.getElementById("submitBtn").style.display = index === questions.length - 1 ? "inline-block" : "none";
      
      updateNavPanel();
    }

    function updateNavPanel() {
      const questionList = document.getElementById("questionList");
      questionList.innerHTML = '';
      
      questions.forEach((q, index) => {
        const questionItem = document.createElement("div");
        questionItem.className = "question-item";
        questionItem.textContent = index + 1;
        
        if (userAnswers[index]) {
          questionItem.classList.add("answered");
        } else if (seenQuestions.has(index)) {
          questionItem.classList.add("seen");
        } else {
          questionItem.classList.add("not-seen");
        }
        
        if (index === current) {
          questionItem.classList.add("current");
        }
        
        questionItem.onclick = () => {
          saveAnswer();
          current = index;
          renderQuestion(current);
          toggleNavPanel();
        };
        
        questionList.appendChild(questionItem);
      });
    }

    function toggleNavPanel() {
      const navPanel = document.getElementById("navPanel");
      navPanelVisible = !navPanelVisible;
      navPanel.style.display = navPanelVisible ? "block" : "none";
    }

    function nextQuestion() {
      saveAnswer();
      if (current < questions.length - 1) {
        current++;
        renderQuestion(current);
      }
    }

    function prevQuestion() {
      saveAnswer();
      if (current > 0) {
        current--;
        renderQuestion(current);
      }
    }

    function saveAnswer() {
      const selected = document.querySelector(`input[name="mcq${current}"]:checked`);
      if (selected) {
        userAnswers[current] = selected.value;
      }
    }

    function submitQuiz() {
      saveAnswer();
      
      // Generate test name with timestamp
      const now = new Date();
      const testName = `MHT-CET Test ${now.toLocaleDateString()} ${now.toLocaleTimeString()}`;
      
      const endTime = new Date();
      const timeTakenMs = endTime - startTime;
      const timeTakenMin = Math.floor(timeTakenMs / 60000);
      const timeTakenSec = Math.floor((timeTakenMs % 60000) / 1000);

      let correct = 0;
      const results = [];

      questions.forEach((q, i) => {
        const userAns = userAnswers[i] || "Not Answered";
        const isCorrect = userAns === q.correct;
        if (isCorrect) correct++;
        results.push({
          number: q.number,
          userAns,
          correctAns: q.correct,
          isCorrect
        });
      });

      // Create result object
      const resultData = {
        testName: testName,
        total: questions.length,
        correct: correct,
        accuracy: (correct / questions.length * 100).toFixed(2),
        time: `${timeTakenMin} min ${timeTakenSec} sec`,
        timestamp: now.toISOString(),
        details: results
      };

      // Save to localStorage
      try {
        // Get existing scores or initialize empty array
        let scores = JSON.parse(localStorage.getItem("quizScores")) || [];
        
        // Add new score
        scores.push(resultData);
        
        // Save back to localStorage
        localStorage.setItem("quizScores", JSON.stringify(scores));
        
        // Also save the current result for the result page
        localStorage.setItem("quizResults", JSON.stringify(resultData));
        
        // Show save notification
        showNotification();
        
        // Redirect to results page after a short delay
        setTimeout(() => {
          window.location.href = "result.html";
        }, 1500);
      } catch (e) {
        console.error("Error saving results:", e);
        alert("Error saving results. Please try again.");
      }
    }

    function showNotification() {
      const notification = document.getElementById("saveNotification");
      notification.style.display = "flex";
    }

    function hideNotification() {
      const notification = document.getElementById("saveNotification");
      notification.style.display = "none";
    }

    // Initialize the quiz
    renderQuestion(current);

    // Stopwatch Timer
    let minutes = 0, seconds = 0;
    const timerEl = document.getElementById("timer");
    setInterval(() => {
      seconds++;
      if (seconds === 60) {
        seconds = 0;
        minutes++;
      }
      timerEl.textContent = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
    }, 1000);
  </script>
</body>
</html>